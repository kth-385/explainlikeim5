<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ExplainLikeIm5 ‚Äî Make Anything Simple</title>
<style>
  :root {
    --bg1: #0d1220;
    --bg2: #15233b;
    --accent: #6fd5d0;
    --text: #f3f6fa;
    --muted: #9aa6b2;
  }

  body {
    background: linear-gradient(180deg, var(--bg1), var(--bg2));
    font-family: 'Inter', system-ui, sans-serif;
    color: var(--text);
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }

  .container {
    width: 100%;
    max-width: 900px;
    padding: 20px;
    box-sizing: border-box;
  }

  header {
    text-align: center;
    margin-bottom: 20px;
  }

  h1 {
    font-size: clamp(22px, 4vw, 32px);
    margin-bottom: 5px;
  }

  h1 span {
    color: var(--accent);
  }

  p.desc {
    font-size: clamp(14px, 2vw, 16px);
    color: var(--muted);
  }

  .card {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 16px;
    margin-top: 16px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.3);
  }

  textarea {
    width: 100%;
    height: 200px;
    border: none;
    border-radius: 8px;
    padding: 12px;
    font-size: 15px;
    box-sizing: border-box;
    background: rgba(255,255,255,0.07);
    color: var(--text);
    resize: vertical;
  }

  .controls {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 10px;
    justify-content: center;
  }

  button, select {
    border: none;
    border-radius: 8px;
    padding: 10px 16px;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: 0.2s ease;
  }

  button:hover, select:hover {
    filter: brightness(1.1);
  }

  button.primary {
    background: var(--accent);
    color: #002b2d;
  }

  button.secondary {
    background: transparent;
    color: var(--accent);
    border: 1px solid var(--accent);
  }

  button.speak {
    background: #2d3c5a;
    color: #fff;
  }

  select {
    background: #2d3c5a;
    color: #fff;
  }

  #output {
    white-space: pre-wrap;
    min-height: 120px;
    font-size: 16px;
    line-height: 1.6;
  }

  footer {
    text-align: center;
    color: var(--muted);
    margin-top: 20px;
    font-size: 14px;
  }

  @media (max-width: 600px) {
    textarea {
      height: 160px;
      font-size: 14px;
    }
    button, select {
      flex: 1 1 100%;
      font-size: 16px;
      padding: 12px;
    }
  }
</style>
</head>
<body>
<div class="container">
  <header>
    <h1>üß∏ Explain<span>LikeIm5</span></h1>
    <p class="desc">Explain anything simply ‚Äî get real meanings for any word too!</p>
  </header>

  <div class="card">
    <textarea id="input" placeholder="Type or paste something..."></textarea>
    <div class="controls">
      <label for="level" style="font-size:14px;">Explain like a:</label>
      <select id="level">
        <option value="5">5-year-old üß∏</option>
        <option value="10">10-year-old üéí</option>
        <option value="15">Teenager üßë‚Äçüíª</option>
      </select>
      <button id="explainBtn" class="primary">Explain</button>
      <button id="clearBtn" class="secondary">Clear</button>
      <button id="speakBtn" class="speak">üîä Read Aloud</button>
    </div>
  </div>

  <div class="card">
    <h3>ü™Ñ Simplified Explanation:</h3>
    <div id="output">Your simple explanation will appear here.</div>
  </div>

  <footer>
    <p>Made with ‚ù§Ô∏è ‚Äî Works offline for text, online for word meanings!</p>
  </footer>
</div>

<script>
// Basic simple replacements for explanations
const easyWords = {
  "approximately": "about", "utilize": "use", "demonstrate": "show",
  "investigate": "look at", "significant": "big", "observe": "see",
  "construct": "make", "require": "need", "beneficial": "good",
  "method": "way", "analysis": "study", "community": "people",
  "individual": "person", "purchase": "buy", "decision": "choice",
  "temperature": "heat", "important": "very important",
  "ecosystem": "place where plants and animals live",
  "vehicle": "car", "increase": "grow", "decrease": "shrink",
  "complex": "hard", "technology": "machines"
};

// Detect if input is a single word
function isSingleWord(text) {
  return /^[a-zA-Z]+$/.test(text.trim());
}

// Function to simplify and summarize text
function simplifyText(text, level) {
  let simple = text.split(/\s+/).map(w => easyWords[w.toLowerCase()] || w).join(" ");
  let sentences = simple.match(/[^.!?]+[.!?]/g) || [simple];
  const limit = level == 5 ? 2 : level == 10 ? 4 : 6;
  let summary = sentences.slice(0, limit).join(" ");

  if (level == 5) {
    summary = "Okay kiddo! So " + summary.toLowerCase() + " üòä It's super easy!";
  } else if (level == 10) {
    summary = "In short: " + summary;
  } else {
    summary = summary + " That‚Äôs the main idea!";
  }
  return summary;
}

// Function to fetch real word meaning from dictionary API
async function getWordMeaning(word) {
  const apiUrl = `https://api.dictionaryapi.dev/api/v2/entries/en/${word}`;
  try {
    const res = await fetch(apiUrl);
    if (!res.ok) throw new Error("Word not found");
    const data = await res.json();
    const meaning = data[0].meanings[0].definitions[0].definition;
    const example = data[0].meanings[0].definitions[0].example || "";
    return `üåü "${word}" means: ${meaning}${example ? `\nüí° Example: ${example}` : ""}`;
  } catch {
    return `‚ùå Sorry, I couldn‚Äôt find the meaning of "${word}". Try another word!`;
  }
}

// --- UI Logic ---
const input = document.getElementById("input");
const output = document.getElementById("output");
const explainBtn = document.getElementById("explainBtn");
const clearBtn = document.getElementById("clearBtn");
const speakBtn = document.getElementById("speakBtn");
const levelSel = document.getElementById("level");

explainBtn.onclick = async () => {
  const text = input.value.trim();
  if (!text) {
    output.textContent = "Please enter some text or a word first!";
    return;
  }

  const level = parseInt(levelSel.value);

  if (isSingleWord(text)) {
    output.textContent = "üîç Looking up the meaning...";
    const meaning = await getWordMeaning(text.toLowerCase());
    output.textContent = meaning;
  } else {
    const simplified = simplifyText(text, level);
    output.textContent = simplified;
  }
};

clearBtn.onclick = () => {
  input.value = "";
  output.textContent = "Your simple explanation will appear here.";
};

speakBtn.onclick = () => {
  const text = output.textContent;
  if (!text) return;
  const speech = new SpeechSynthesisUtterance(text);
  speech.lang = "en-US";
  speech.rate = 1;
  speech.pitch = 1.1;
  window.speechSynthesis.speak(speech);
};
</script>
</body>
</html>
